Render — Quick Manual Deploy (Gemini-only)
=========================================

Short summary
-------------
This is a minimal, manual checklist to deploy the backend to Render when you are
only using Gemini. It lists the exact secrets you need and the quick steps to
verify the service. Keep this short and actionable.

Essential steps
---------------
1. Push your code to GitHub (branch `main`).
2. On Render: New → Web Service → Connect repository → select `main`.
   Confirm `render.yaml` points to `backend/Dockerfile`.
3. Add these Render secrets (Dashboard → Environment / Secrets):
   - `GEMINI_API_KEY` = <your-gemini-key>
   - `ALLOWED_ORIGINS` = https://your-frontend.example (or `*` for quick testing)
   - `ENVIRONMENT` = production
   - `LOG_LEVEL` = INFO

Notes about other integrations
------------------------------
- You stated you are NOT using Neo4j or Pinecone. Do NOT create or set those
  secrets. If the app tries to use them at runtime, set them to empty values or
  update the app config to disable those integrations:
  - `NEO4J_URI=` (leave blank)
  - `PINECONE_API_KEY=` (leave blank)

Port & health check
-------------------
- Render provides `$PORT`. The app must read `PORT` at startup. Example start
  command (already expected by the Dockerfile):
  `uvicorn app.main:app --host 0.0.0.0 --port $PORT`
- Render will use `/health` (as configured in `render.yaml`) — verify after deploy.

Local quick test (optional)
---------------------------
Build and run locally to sanity-check before pushing:

```bash
docker build -f backend/Dockerfile -t ntria-backend:local .
docker run -p 8000:8000 -e GEMINI_API_KEY="sk-..." ntria-backend:local
curl http://localhost:8000/health
```

After deploy
------------
- Copy Render service URL and set your frontend `NEXT_PUBLIC_API_URL` to it.
- Test `/health`, `/api/docs` and chat endpoints end-to-end.

If you want I can:
- remove the deprecated Railway files entirely, or
- run the local Docker build here to verify the image and `/health`.

Done — short, manual, Gemini-only guide.
